<!DOCTYPE html>
<html>
<head>
  <title>Admin Panel</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-dark text-white">
<div class="container mt-5">
  <% if (!loggedIn) { %>
    <h3>Admin Login</h3>
    <% if (error) { %>
      <div class="alert alert-danger"><%= error %></div>
    <% } %>
    <form method="POST" action="/admin">
      <input type="password" name="password" class="form-control mb-3" placeholder="Enter Password" required>
      <button class="btn btn-light">Login</button>
    </form>
  <% } else { %>
    <h3>Question Bank</h3>
    <form method="POST" action="/admin/add">
      <input type="number" name="level" class="form-control mb-2" placeholder="Level" required>
      <input type="text" name="question" class="form-control mb-2" placeholder="Question" required>
      <textarea name="options" class="form-control mb-2" placeholder="One option per line" required></textarea>
      <input type="number" name="answer" class="form-control mb-2" placeholder="Correct option index (0-3)" required>
      <button class="btn btn-success">Add Question</button>
    </form>
    <hr>
    <% questions.forEach(q => { %>
      <p><b>Level <%= q.level %></b>: <%= q.question %></p>
    <% }) %>
  <% } %>
</div>
</body>
</html>
